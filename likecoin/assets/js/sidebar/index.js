!function(){var e={653:function(e,t,n){e.exports=n(555)},685:function(e,t,n){"use strict";var r=n(501),a=n(63),i=n(233),o=n(306),s=n(938),c=n(644),l=n(977),u=n(135);e.exports=function(e){return new Promise((function(t,n){var d=e.data,f=e.headers,p=e.responseType;r.isFormData(d)&&delete f["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+v)}var C=s(e.baseURL,e.url);function g(){if(m){var r="getAllResponseHeaders"in m?c(m.getAllResponseHeaders()):null,i={data:p&&"text"!==p&&"json"!==p?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};a(t,n,i),m=null}}if(m.open(e.method.toUpperCase(),o(C,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(u("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(u("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var E=(e.withCredentials||l(C))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;E&&(f[e.xsrfHeaderName]=E)}"setRequestHeader"in m&&r.forEach(f,(function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete f[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),p&&"json"!==p&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){m&&(m.abort(),n(e),m=null)})),d||(d=null),m.send(d)}))}},555:function(e,t,n){"use strict";var r=n(501),a=n(958),i=n(303),o=n(445);function s(e){var t=new i(e),n=a(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var c=s(n(36));c.Axios=i,c.create=function(e){return s(o(c.defaults,e))},c.Cancel=n(930),c.CancelToken=n(939),c.isCancel=n(414),c.all=function(e){return Promise.all(e)},c.spread=n(363),c.isAxiosError=n(465),e.exports=c,e.exports.default=c},930:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},939:function(e,t,n){"use strict";var r=n(930);function a(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},414:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},303:function(e,t,n){"use strict";var r=n(501),a=n(306),i=n(942),o=n(158),s=n(445),c=n(169),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new i,response:new i}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:l.transitional(l.boolean,"1.0.0"),forcedJSONParsing:l.transitional(l.boolean,"1.0.0"),clarifyTimeoutError:l.transitional(l.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var u=[o,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(i),a=Promise.resolve(e);u.length;)a=a.then(u.shift(),u.shift());return a}for(var d=e;n.length;){var f=n.shift(),p=n.shift();try{d=f(d)}catch(e){p(e);break}}try{a=o(d)}catch(e){return Promise.reject(e)}for(;i.length;)a=a.then(i.shift(),i.shift());return a},u.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},942:function(e,t,n){"use strict";var r=n(501);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},938:function(e,t,n){"use strict";var r=n(473),a=n(533);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},135:function(e,t,n){"use strict";var r=n(889);e.exports=function(e,t,n,a,i){var o=new Error(e);return r(o,t,n,a,i)}},158:function(e,t,n){"use strict";var r=n(501),a=n(97),i=n(414),o=n(36);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(s(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},889:function(e){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},445:function(e,t,n){"use strict";var r=n(501);e.exports=function(e,t){t=t||{};var n={},a=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function l(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(e[a],t[a])}r.forEach(a,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(i,l),r.forEach(o,(function(a){r.isUndefined(t[a])?r.isUndefined(e[a])||(n[a]=c(void 0,e[a])):n[a]=c(void 0,t[a])})),r.forEach(s,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var u=a.concat(i).concat(o).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===u.indexOf(e)}));return r.forEach(d,l),n}},63:function(e,t,n){"use strict";var r=n(135);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},97:function(e,t,n){"use strict";var r=n(501),a=n(36);e.exports=function(e,t,n){var i=this||a;return r.forEach(n,(function(n){e=n.call(i,e,t)})),e}},36:function(e,t,n){"use strict";var r=n(501),a=n(799),i=n(889),o={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,l={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(685)),c),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(s(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw i(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){l.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){l.headers[e]=r.merge(o)})),e.exports=l},958:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},306:function(e,t,n){"use strict";var r=n(501);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(a(t)+"="+a(e))})))})),i=o.join("&")}if(i){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}},533:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},233:function(e,t,n){"use strict";var r=n(501);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,i,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},473:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},465:function(e){"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},977:function(e,t,n){"use strict";var r=n(501);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},799:function(e,t,n){"use strict";var r=n(501);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},644:function(e,t,n){"use strict";var r=n(501),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,o={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(o[t]&&a.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}},363:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},169:function(e,t,n){"use strict";var r=n(837),a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var i={},o=r.version.split(".");function s(e,t){for(var n=t?t.split("."):o,r=e.split("."),a=0;a<3;a++){if(n[a]>r[a])return!0;if(n[a]<r[a])return!1}return!1}a.transitional=function(e,t,n){var a=t&&s(t);function o(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(o(r," has been removed in "+t));return a&&!i[r]&&(i[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={isOlderVersion:s,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var s=e[i],c=void 0===s||o(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:a}},501:function(e,t,n){"use strict";var r=n(958),a=Object.prototype.toString;function i(e){return"[object Array]"===a.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===a.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),i(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:i,isArrayBuffer:function(e){return"[object ArrayBuffer]"===a.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return s(e)&&l(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):i(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,a){e[a]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},837:function(e){"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}],"_resolved":"https://registry.npmjs.org/axios/-/axios-0.21.4.tgz","_integrity":"sha512-ut5vewkiu8jjGBdqpM44XxjuCjq9LAKeHVmoVfHVzy8eHgxxq8SbAVQNovDA8mVi05kP0Ea/n/UzcSHcTJQfNg==","_from":"axios@0.21.4"}')}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.element,t=window.wp.plugins;function r(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,c,"next",e)}function c(e){r(o,a,i,s,c,"throw",e)}s(void 0)}))}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],_n=!0,o=!1;try{for(n=n.call(e);!(_n=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);_n=!0);}catch(e){o=!0,a=e}finally{try{_n||null==n.return||n.return()}finally{if(o)throw a}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=window.regeneratorRuntime,c=n.n(s),l=window.React,u=window.wp.data,d=window.wp.editPost,f=window.wp.i18n,p=function(t){return(0,e.createElement)("div",{onClick:t.onClick,style:t.paddingLeft?{paddingLeft:t.paddingLeft}:{}},(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17.89",height:"18.42",viewBox:"0 0 32 32"},(0,e.createElement)("g",{fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},(0,e.createElement)("g",{fill:t.color,transform:"translate(0 1)"},(0,e.createElement)("path",{d:"M15.092 9.268a.846.846 0 01-.634-.284.845.845 0 01.064-1.198c2.376-2.08 3.453-3.815 3.643-4.13.698-1.23 1.838-1.86 3.01-1.672a.83.83 0 01.729.946.832.832 0 01-.95.726c-.698-.095-1.141.567-1.331.851-.222.378-1.394 2.302-3.96 4.572a.953.953 0 01-.57.19"}),(0,e.createElement)("path",{d:"M.866 23.52a.741.741 0 01-.633-.315.878.878 0 01.095-1.198c.823-.694 2.534-1.766 3.105-2.081.411-.22.918-.032 1.14.378.222.41.032.915-.38 1.135-.444.221-2.028 1.23-2.788 1.86a.744.744 0 01-.539.221"}),(0,e.createElement)("path",{d:"M22.126 15.543c.348.315.728.19 1.077-.158 2.44-2.333 5.037-5.959 5.893-7.85.19-.41.57-.631.95-.474.476.19.476 1.009.032 1.86-1.14 2.302-2.693 4.856-5.798 8.072-.285.315-.253.726 0 .946.285.253.729.221 1.141-.189 1.616-1.64 2.693-2.9 3.612-4.194.253-.346.538-.473.823-.41.412.095.476.474.349.946-.19.757-2.345 3.532-3.168 4.478-2.282 2.554-4.594 3.941-8.998 6.243-1.553.788-2.694 1.577-3.39 2.743-.634 1.072-.824 1.42-.888 1.545-.253.505-.063 1.167.476 1.42.158.063.285.094.443.094.412 0 .792-.252.95-.63 0 0-.03.03.793-1.388a6.09 6.09 0 012.598-2.27c4.404-2.018 6.241-3.595 8.808-6.149 1.172-1.166 2.788-3.657 3.231-4.383 1.236-2.081.602-3.847-.538-4.13-.095-.032-.127-.126-.095-.221.855-1.482 1.267-2.491 1.426-3.28.221-1.071-.095-2.364-1.553-2.68-.063-.031-.127-.094-.095-.189.095-.347.19-.757.254-1.04.316-1.388-.57-2.649-1.648-2.87-.76-.157-1.426 0-1.996.41-.095.064-.19.032-.254-.031a1.477 1.477 0 00-1.108-.505c-.92-.031-1.838.253-2.503 1.672-.476 1.009-1.173 2.364-3.264 4.666-1.933 2.144-4.626 4.194-6.273 5.297-.285.19-.697.158-.666-.252.064-.63.73-4.761.856-5.99.19-1.987-.887-2.902-2.091-3.06-.982-.126-2.503.158-3.327 2.397-.475 1.324-1.489 3.468-2.344 6.937-.602 2.46-.697 5.297-.159 8.576.032.19 0 .41-.095.568-.665 1.072-1.616 2.49-2.154 3.72-.222.505-.032 1.104.443 1.356a.933.933 0 00.507.127c.38 0 .76-.221.95-.6.318-.662.983-1.923 1.236-2.459.444-.914.729-1.514.856-1.892.095-.347.19-.756-.032-1.64-.348-1.513-.444-4.382.159-6.937.823-3.342 2.25-7.094 2.502-7.724.254-.63.602-.82.951-.789.349.032 1.046.19.855 1.45-.348 2.27-.823 5.14-.982 6.118-.095.473-.158 1.576.697 2.08.697.41 1.458.19 2.281-.378 1.87-1.26 5.133-3.783 7.16-6.054 2.124-2.396 2.82-3.815 3.36-5.108.253-.599.886-.567 1.108-.504.222.063.507.378.317 1.009-.475 1.577-2.44 5.171-6.178 8.545-.412.378-.38.82-.158 1.072.19.22.601.378 1.045 0 3.39-2.87 5.291-6.306 6.178-8.135.444-.915.602-1.45.729-1.892.19-.536.602-.725.887-.662.412.094.697.504.538 1.198-.126.6-.475 1.577-.918 2.554-1.077 2.302-3.359 5.36-5.83 7.977-.253.316-.317.726.032 1.041"}),(0,e.createElement)("path",{d:"M6.681 4.176c.126-.127.094-.254.031-.381C6.525 3.224 5.522.779 5.241.303 5.116.049 4.928.017 4.74.08c-.25.095-.533.317-1.002.73-.47.413-.72.666-.845.92-.095.19-.095.35.125.508.438.318 2.692 1.683 3.225 1.937.188.063.313.127.438 0"}),(0,e.createElement)("path",{d:"M1.974 5.036c-.283 0-.41.124-.441.31-.031.247 0 .619.095 1.207.094.588.189.96.315 1.177.094.154.252.247.504.154.504-.216 2.835-1.424 3.34-1.764.094-.062.22-.155.188-.31"}),(0,e.createElement)("path",{d:"M25.521 25.5c-.154 0-.216.157-.247.282-.216.566-.834 3.114-.927 3.648-.031.283.062.41.247.472.247.063.618.063 1.205.031.587-.03.958-.094 1.205-.188.186-.095.279-.22.186-.503-.155-.535-1.113-2.957-1.39-3.491-.032-.126-.124-.283-.279-.252"}),(0,e.createElement)("path",{d:"M26.998 24.315c-.095.16.031.289.095.385.378.481 2.21 2.407 2.651 2.76.221.194.379.161.537 0 .189-.192.379-.513.663-1.059.284-.546.442-.899.473-1.155.032-.193-.063-.353-.315-.45-.537-.16-3.126-.578-3.725-.61-.126 0-.284-.032-.379.129"})))))},m=function(t){return(0,e.createElement)("div",{className:"SideBarStatusRowTitle"},(0,e.createElement)("p",{style:{marginBottom:"0px"}}," ",t.title," "))},h=function(t){return(0,e.createElement)("div",{className:"sidebarStatusTitleOuterDiv"},(0,e.createElement)(m,{title:t.title}),t.status&&(0,e.createElement)("div",{className:"SideBarStatusRowDetails"}," ",t.link&&(0,e.createElement)("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",className:"longLink"},t.status)," ",!t.link&&t.status))},v=function(t){return(0,e.createElement)(h,{title:(0,f.__)("State","likecoin"),status:(0,e.createElement)("div",{className:"flexBoxRow"},!t.isCurrentPostPublished&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"greyDot"})," ",(0,e.createElement)("div",{className:"postStatusDiv"},"".concat((0,f.__)("Not Ready","likecoin")))),t.isCurrentPostPublished&&!t.ISCNId&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"redDot"})," ",(0,e.createElement)("div",{className:"postStatusDiv"},"".concat((0,f.__)("Ready","likecoin")))),t.isCurrentPostPublished&&t.ISCNId&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"greenDot"})," ",(0,e.createElement)("div",{className:"postStatusDiv"},"".concat((0,f.__)("Published","likecoin")))))})},C=function(t){var n=o((0,l.useState)(!1),2),r=n[0],a=n[1],i=o((0,l.useState)(!1),2),s=i[0],c=i[1],h=o((0,l.useState)(!0),2),C=h[0],g=h[1],E=o((0,l.useState)(!0),2),S=E[0],I=E[1],N=(0,u.useSelect)((function(e){return e("core/editor").isCurrentPostPublished()})),w=(0,u.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("modified_gmt")}));return(0,l.useEffect)((function(){g(!!(N&&t.ISCNTimestamp&&Date.parse("".concat(w,"Z"))>t.ISCNTimestamp))}),[N,w,t.ISCNTimestamp]),(0,l.useEffect)((function(){return I(!!t.ISCNId)}),[t.ISCNId]),(0,l.useEffect)((function(){a(!N&&t.mattersDraftId),c(N&&t.mattersArticleId)}),[N,t]),(0,e.createElement)(d.PluginDocumentSettingPanel,{name:"depub-panel",title:(0,f.__)("Decentralized Publishing","likecoin"),className:"depub-panel",icon:(0,e.createElement)(p,{color:"#9B9B9B",paddingLeft:"10px"})},(0,e.createElement)("div",{className:"postStatusInfoPanelOuterDiv"},(0,e.createElement)("div",{className:"flexBoxRow"},(0,e.createElement)("div",{className:"divOuterHolderStatusInfoPanel"},(0,e.createElement)(e.Fragment,null,(0,e.createElement)(v,{isCurrentPostPublished:N,ISCNId:t.ISCNId}),r&&(0,e.createElement)("div",{className:"flexBoxRow"},(0,e.createElement)(m,{title:(0,f.__)("Distribution","likecoin")}),(0,e.createElement)("div",null,(0,e.createElement)("a",{rel:"noopener noreferrer",target:"_blank",className:"icon",href:"https://matters.news/me/drafts/".concat(t.mattersDraftId)},"Matters"))),s&&(0,e.createElement)("div",{className:"flexBoxRow"},(0,e.createElement)(m,{title:(0,f.__)("Distribution","likecoin")}),(0,e.createElement)("div",null,(0,e.createElement)("a",{rel:"noopener noreferrer",target:"_blank",className:"icon",href:"https://matters.news/@".concat(t.mattersId,"/").concat(t.mattersArticleSlug,"-").concat(t.mattersPublishedArticleHash)},"Matters"))),(0,e.createElement)("div",{className:"postStatusInfoRowOuterDiv"},!N&&(0,e.createElement)("button",{className:"blueBackgroundWhiteTextBtn",style:{minWidth:"0",width:"100%"},onClick:function(e){e.preventDefault(),document.getElementsByClassName("editor-post-publish-button__button")[0].click()}},(0,f.__)("Publish your post first","likecoin")),N&&!t.ISCNId&&(0,e.createElement)("div",{style:{display:"flex",flexDirection:"row",width:"100%"}},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextSmallBtn",onClick:t.handleRegisterISCN},(0,f.__)("Publish","likecoin")),(0,e.createElement)("button",{className:"whiteBackgroundBlueTextSmallBtn",onClick:function(e){e.preventDefault(),document.querySelector('[aria-label="LikeCoin Plugin"]').click()}},(0,f.__)("Details","likecoin"))),C&&(0,e.createElement)("button",{className:"blueBackgroundWhiteTextSmallBtn",onClick:t.handleRegisterISCN},(0,f.__)("Update","likecoin")),S&&(0,e.createElement)("button",{className:"blueBackgroundWhiteTextSmallBtn",onClick:t.handleNFTAction},t.NFTClassId?(0,f.__)("View NFT","likecoin"):(0,f.__)("Mint NFT","likecoin"))))))))},g=window.wp.wordcount;function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n(653),I=n.n(S);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=window.wpApiSettings,_=b.root,y=b.nonce,D=b.postId,T=b.likecoHost,k="likecoin/iscn_info_store",x="".concat(_,"likecoin/v1/posts/").concat(D,"/iscn/arweave/upload"),A="".concat(_,"likecoin/v1/posts/").concat(D,"/iscn/arweave"),B="".concat(_,"likecoin/v1/posts/").concat(D,"/iscn/metadata"),P="".concat(_,"likecoin/v1/posts/").concat(D,"/iscn/metadata"),O="https://api.".concat(T,"/likernft/mint?iscn_id=");y&&(I().defaults.headers.common["X-WP-Nonce"]=window.wpApiSettings.nonce);var R={DBArticleTitle:"",DBAuthorDescription:"",DBDescription:"",DBAuthor:"",DBArticleURL:"",DBArticleTags:[],DBISCNId:"",DBArweaveId:"",DBLicense:"",DBISCNVersion:0,DBISCNTimestamp:0,DBNFTClassId:"",DBMattersIPFSHash:"",DBMattersPublishedArticleHash:"",DBMattersDraftId:"",DBMattersArticleId:"",DBMattersId:"",DBMattersArticleSlug:""},L={getISCNInfo:function(){return{type:"GET_ISCN_INFO"}},setISCNInfo:function(e){return{type:"SET_ISCN_INFO",data:e}},setISCNLicense:function(e){return{type:"SET_ISCN_LICENSE",license:e}},getNFTInfo:function(e){return{type:"GET_NFT_INFO",iscnId:e}},setNFTInfo:function(e){return{type:"SET_NFT_INFO",data:e}},setHTTPErrors:function(e){return{type:"SET_ERROR_MESSAGE",errorMsg:e}},fetchISCNRegisterData:c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"GET_ISCN_REGISTER_DATA"};case 2:if((t=e.sent).data){e.next=5;break}throw new Error("NO_ISCN_REGISTER_DATA_RETURNED");case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})),postArweaveInfoData:c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_ARWEAVE_INFO_DATA",data:t};case 2:if((n=e.sent).data){e.next=5;break}throw new Error("NO_ARWEAVE_INFO_RETURNED");case 5:return e.next=7,{type:"UPDATE_ARWEAVE_UPLOAD_AND_IPFS_GLOBAL_STATE",data:{arweaveId:n.data.arweave_id,ipfsHash:n.data.ipfs_hash}};case 7:case"end":return e.stop()}}),e)})),postISCNInfoData:c().mark((function e(t){var n,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,{type:"POST_ISCN_INFO_DATA",data:t};case 2:if((n=e.sent).data){e.next=5;break}throw new Error("NO_ISCN_INFO_RETURNED");case 5:return r=n.data,a=r.iscnVersion,i=r.iscnTimestamp,e.next=8,{type:"UPDATE_ISCN_ID_GLOBAL_STATE",data:{iscnId:n.data.iscn_id,iscnTimestamp:i,iscnVersion:a}};case 8:case"end":return e.stop()}}),e)}))},j={reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ISCN_INFO":return w(w({},e),{},{DBISCNId:t.data.iscnId,DBISCNVersion:t.data.iscnVersion,DBISCNTimestamp:t.data.iscnTimestamp,DBLicense:t.data.license,DBNFTClassId:t.data.nftClassId,DBArticleTitle:t.data.title,DBAuthorDescription:t.data.authorDescription,DBDescription:t.data.description,DBAuthor:t.data.author,DBArticleURL:t.data.url,DBArticleTags:t.data.tags,DBArweaveId:t.data.arweaveId,DBMattersIPFSHash:t.data.mattersIPFSHash,DBMattersPublishedArticleHash:t.data.mattersPublishedArticleHash,DBMattersArticleId:t.data.mattersArticleId,DBMattersId:t.data.mattersId,DBMattersArticleSlug:t.data.mattersArticleSlug});case"SET_NFT_INFO":return w(w({},e),{},{DBNFTClassId:t.data.classId});case"SET_ISCN_LICENSE":return w(w({},e),{},{DBLicense:t.license});case"UPDATE_ARWEAVE_UPLOAD_AND_IPFS_GLOBAL_STATE":var n=t.data.arweaveId;return w(w({},e),{},{DBArweaveId:n});case"UPDATE_ISCN_ID_GLOBAL_STATE":return w(w({},e),{},{DBISCNId:t.data.iscnId,DBISCNVersion:t.data.iscnVersion,DBISCNTimestamp:1e3*t.data.iscnTimestamp});default:return e}},controls:{GET_ISCN_INFO:function(){return I().get(B)},GET_NFT_INFO:function(e){return I().get("".concat(O).concat(encodeURIComponent(e.iscnId)))},GET_ISCN_REGISTER_DATA:function(){return I().get(x)},POST_ARWEAVE_INFO_DATA:function(e){return I().post(A,{arweaveIPFSHash:e.data.ipfsHash,arweaveId:e.data.arweaveId})},POST_ISCN_INFO_DATA:function(e){return I().post(P,{iscnHash:e.data.iscnHash,iscnId:e.data.iscnId,iscnVersion:e.data.iscnVersion,iscnTimestamp:e.data.timestamp,iscnData:{license:e.data.license}})}},selectors:{selectISCNInfo:function(e){return e},selectNFTInfo:function(e){return e},getLicense:function(e){return e.DBLicense}},resolvers:{selectISCNInfo:c().mark((function e(){var t,n,r,a,i,o,s,l,u,d,f,p,m,h,v,C,g,E,S,I;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.getISCNInfo();case 3:return t=e.sent,n=t.data,r=n.iscnId,a=n.iscnVersion,i=n.iscnTimestamp,o=n.iscnData,s=void 0===o?{}:o,l=n.title,u=n.authorDescription,d=n.description,f=n.author,p=n.url,m=n.tags,h=n.arweaveId,v=n.arweaveIPFSHash,C=n.mattersIPFSHash,g=n.mattersPublishedArticleHash,E=n.mattersArticleId,S=n.mattersId,I=n.mattersArticleSlug,e.abrupt("return",L.setISCNInfo(w(w({},s),{},{iscnId:r,iscnVersion:a,iscnTimestamp:1e3*i,title:l,authorDescription:u,description:d,author:f,url:p,tags:m,arweaveId:h,arweaveIPFSHash:v,mattersIPFSHash:C,mattersPublishedArticleHash:g,mattersArticleId:E,mattersId:S,mattersArticleSlug:I})));case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",L.setHTTPErrors(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),selectNFTInfo:c().mark((function e(t){var n,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",{});case 2:return e.prev=2,e.next=5,L.getNFTInfo(t);case 5:return n=e.sent,r=n.data,a=r.classId,i=r.currentPrice,e.abrupt("return",L.setNFTInfo({classId:a,currentPrice:i}));case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))},actions:L};!function(e,t){if(u.createReduxStore){var n=(0,u.createReduxStore)(e,t);return(0,u.register)(n),n}(0,u.registerStore)(e,t)}(k,j);var F=function(){return(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.5 4C7.94772 4 7.5 4.44772 7.5 5C7.5 5.55228 7.94772 6 8.5 6H9V14H8.5C7.94772 14 7.5 14.4477 7.5 15C7.5 15.5523 7.94772 16 8.5 16H11.5C12.0523 16 12.5 15.5523 12.5 15C12.5 14.4477 12.0523 14 11.5 14H11V6H11.5C12.0523 6 12.5 5.55228 12.5 5C12.5 4.44772 12.0523 4 11.5 4H8.5ZM15.2929 13.7071C14.9024 13.3166 14.9024 12.6834 15.2929 12.2929L17.5858 10L15.2929 7.70711C14.9024 7.31658 14.9024 6.68342 15.2929 6.29289C15.6834 5.90237 16.3166 5.90237 16.7071 6.29289L19.7071 9.29289C20.0976 9.68342 20.0976 10.3166 19.7071 10.7071L16.7071 13.7071C16.3166 14.0976 15.6834 14.0976 15.2929 13.7071ZM4.70711 6.29289C5.09763 6.68342 5.09763 7.31658 4.70711 7.70711L2.41421 10L4.70711 12.2929C5.09763 12.6834 5.09763 13.3166 4.70711 13.7071C4.31658 14.0976 3.68342 14.0976 3.29289 13.7071L0.292893 10.7071C-0.0976311 10.3166 -0.097631 9.68342 0.292893 9.29289L3.29289 6.29289C3.68342 5.90237 4.31658 5.90237 4.70711 6.29289Z",fill:"#4A4A4A"}))},M=function(t){return(0,e.createElement)("div",{onClick:t.onClick,style:{cursor:"pointer"}},(0,e.createElement)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.8384 3.74744C15.2289 3.35691 15.8621 3.35691 16.2526 3.74744C16.6431 4.13796 16.6431 4.77113 16.2526 5.16165L11.4143 10L16.2526 14.8383C16.6431 15.2289 16.6431 15.862 16.2526 16.2526C15.8621 16.6431 15.2289 16.6431 14.8384 16.2526L10 11.4142L5.1617 16.2526C4.77117 16.6431 4.13801 16.6431 3.74748 16.2526C3.35696 15.862 3.35696 15.2289 3.74748 14.8383L8.58583 10L3.74748 5.16165C3.35696 4.77113 3.35696 4.13796 3.74748 3.74744C4.13801 3.35691 4.77117 3.35691 5.1617 3.74744L10 8.58578L14.8384 3.74744Z",fill:"#9B9B9B"})))},U=function(t){return(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"sidebarPopUpRowTitle"}," ",t.title," "))},H=function(t){return(0,e.createElement)("div",null,(0,e.createElement)("p",null,t.details))},V=function(t){return(0,e.createElement)("div",{className:"TagOuterDiv"},(0,e.createElement)("p",null," ",t.tag," "))},W=[{name:(0,f.__)("(Not set)","likecoin"),value:""},{name:"CC0",value:"http://creativecommons.org/publicdomain/zero/1.0/"},{name:"CC-BY",value:"https://creativecommons.org/licenses/by/4.0/"},{name:"CC-BY-SA",value:"https://creativecommons.org/licenses/by-sa/4.0/"}],q=function(t){return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(m,{title:(0,f.__)("License:","likecoin")}),(0,e.createElement)("select",{name:"license",onChange:function(e){t.onSelect(e.target.value)},disabled:!!t.disabled||null},W.map((function(n){return(0,e.createElement)("option",{selected:n.value===t.defaultLicense||null,value:n.value},n.name)}))))},G=function(t){return(0,e.createElement)("div",{onClick:t.onClick,style:t.paddingLeft?{paddingLeft:t.paddingLeft}:{}},(0,e.createElement)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.8404 13.4694C16.4883 13.4694 16.2066 13.1838 16.2027 12.8357C16.2027 12.6518 16.281 12.4797 16.4179 12.3584C18.2134 10.7741 19.0075 9.46368 19.1483 9.22506C19.6764 8.30969 20.5175 7.82854 21.4172 7.9498C21.7653 8.00848 22.0001 8.33316 21.9414 8.68131C21.8866 9.01382 21.5815 9.24853 21.2451 9.20941C20.7248 9.139 20.3766 9.63971 20.2515 9.85486C20.0989 10.1287 19.2031 11.5956 17.2589 13.309C17.1416 13.4146 16.9929 13.4694 16.8404 13.4694Z",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.13763 24.2426C5.78556 24.2426 5.5 23.9609 5.5 23.6089C5.5 23.4211 5.58215 23.2411 5.7308 23.1199C6.47013 22.537 7.2525 22.0167 8.07007 21.5551C8.38302 21.3987 8.76638 21.5238 8.92285 21.8407C9.07932 22.1537 8.95414 22.537 8.63729 22.6935C7.90577 23.1081 7.20556 23.5776 6.54446 24.0978C6.43101 24.1956 6.28628 24.2504 6.13763 24.2504",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.1214 18.2144C22.3757 18.4492 22.6651 18.3514 22.9351 18.0932C24.7775 16.3329 26.7295 13.5828 27.375 12.1511C27.5119 11.846 27.7935 11.6778 28.0987 11.7951C28.4546 11.9399 28.4468 12.5462 28.126 13.2112C27.2772 14.9637 26.0958 16.8922 23.7604 19.3058C23.5649 19.4897 23.5531 19.7948 23.737 19.9904C23.7487 20.0021 23.7604 20.0139 23.7722 20.0256C23.9795 20.2134 24.312 20.1977 24.625 19.8809C25.6186 18.8951 26.53 17.8311 27.3515 16.7006C27.5314 16.4385 27.7466 16.3407 27.9617 16.3837C28.2669 16.4463 28.3177 16.7397 28.2238 17.0917C28.0713 17.6629 26.4635 19.7753 25.8259 20.4833C24.1008 22.4118 22.3717 23.4641 19.0467 25.1931C17.8849 25.7956 17.0165 26.3745 16.4923 27.2625C16.0111 28.0683 15.8703 28.3304 15.8233 28.436C15.6278 28.8311 15.7842 29.3084 16.1754 29.5118C16.281 29.5627 16.3984 29.59 16.5118 29.5861C16.8287 29.5861 17.1143 29.3944 17.2355 29.105C17.2355 29.0932 17.212 29.1167 17.8458 28.0605C18.3152 27.3055 18.9958 26.7031 19.8017 26.3354C23.1267 24.8137 24.488 23.6206 26.4205 21.6881C27.3006 20.808 28.5172 18.9186 28.8497 18.3631C29.7807 16.7984 29.2918 15.4566 28.4507 15.2297C28.392 15.2141 28.3608 15.1554 28.3764 15.1006C28.3803 15.0928 28.3803 15.085 28.3842 15.0772C29.0336 13.9623 29.327 13.1956 29.4522 12.5971C29.6165 11.7873 29.3896 10.8015 28.2747 10.5668C28.216 10.5512 28.1808 10.4964 28.1965 10.4377V10.4338C28.2669 10.1796 28.3334 9.85487 28.3842 9.64363C28.6189 8.59135 27.95 7.63686 27.152 7.46866C26.6317 7.3513 26.0841 7.46474 25.6538 7.7816C25.5912 7.82072 25.509 7.8129 25.4621 7.75813C25.2509 7.51951 24.9496 7.38259 24.6328 7.37086C23.9365 7.35521 23.2519 7.57036 22.7512 8.6422C22.3913 9.40501 21.8593 10.4377 20.2946 12.1707C18.8394 13.7706 16.817 15.3432 15.5691 16.1607C15.35 16.3055 15.0449 16.2703 15.0801 15.9769C15.1388 15.5192 15.6395 12.378 15.7256 11.4548C15.8625 9.95267 15.0566 9.27201 14.153 9.14683C13.4098 9.04512 12.2792 9.26027 11.6573 10.958C11.2935 11.9516 10.5385 13.5828 9.89693 16.2155C9.44707 18.0658 9.37275 20.2212 9.78349 22.7013C9.81087 22.85 9.77957 23.0025 9.70134 23.1316C9.20845 23.9453 8.48085 25.0132 8.08184 25.9481C7.91363 26.3237 8.05837 26.7657 8.41435 26.9691C8.78988 27.1764 9.26321 27.0395 9.47054 26.664C9.47836 26.6483 9.48619 26.6327 9.49401 26.6131C9.73263 26.1085 10.2255 25.1579 10.4211 24.7628C10.6636 24.3012 10.8827 23.824 11.0705 23.335C11.1526 23.0729 11.1996 22.7717 11.0509 22.0872C10.7967 20.9293 10.7106 18.7621 11.18 16.8492C11.6925 14.8698 12.3184 12.9178 13.0538 11.0089C13.2415 10.5394 13.5115 10.3986 13.7814 10.4182C14.0513 10.4377 14.5637 10.5707 14.4151 11.5252C14.153 13.2386 13.7814 15.4136 13.6523 16.1451C13.5897 16.505 13.5232 17.3421 14.1843 17.7294C14.7007 18.0345 15.2718 17.8624 15.8977 17.4438C17.3138 16.5011 19.7547 14.5764 21.2843 12.8552C22.8959 11.048 23.4045 9.97222 23.8191 8.99818C24.0069 8.55614 24.492 8.55614 24.6602 8.607C24.8323 8.65394 25.0396 8.88865 24.8949 9.37763C24.5389 10.5629 23.0681 13.2855 20.2398 15.8361C19.919 16.1255 19.966 16.4659 20.1264 16.6458C20.2907 16.8257 20.584 16.9314 20.9048 16.6458C22.8646 14.9402 24.4489 12.8474 25.5521 10.4964C25.7711 10.0348 25.9589 9.56148 26.1115 9.0725C26.2484 8.66959 26.5613 8.52485 26.7765 8.57179C27.0816 8.63829 27.2889 8.95515 27.1911 9.47542C27.0346 10.1443 26.8038 10.7937 26.4987 11.4079C25.6851 13.1369 23.9639 15.4527 22.1057 17.4399C21.8945 17.6355 21.8828 17.9641 22.0823 18.1753C22.1057 18.1949 22.1136 18.2027 22.1214 18.2144Z",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6245 9.59668C10.7222 9.51062 10.6831 9.39718 10.6557 9.31112C10.5188 8.87299 9.74038 7.04617 9.53305 6.67846C9.47829 6.53763 9.32182 6.46331 9.18099 6.51807C9.17317 6.52199 9.16925 6.52199 9.16143 6.5259C8.97758 6.59631 8.75069 6.76452 8.39862 7.06964C8.04656 7.37476 7.85488 7.57818 7.75709 7.7503C7.67885 7.87939 7.71797 8.05151 7.84706 8.12975C7.85097 8.13366 7.85879 8.13757 7.8627 8.13757C8.19912 8.38793 9.90859 9.40109 10.3272 9.59277C10.4093 9.63189 10.5188 9.68274 10.6166 9.59277L10.6245 9.59668Z",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.95948 10.7937C9.93601 10.6646 9.82257 10.6411 9.7326 10.6177C9.28665 10.5081 7.319 10.2226 6.90044 10.2069C6.6892 10.1991 6.59531 10.2969 6.57184 10.4416C6.53664 10.6372 6.56011 10.9189 6.64226 11.3766C6.67746 11.6895 6.75961 11.9907 6.89261 12.2763C6.96303 12.4132 7.12732 12.468 7.26424 12.3976C7.27206 12.3936 7.27597 12.3897 7.2838 12.3858C7.67498 12.2333 9.42748 11.2905 9.80692 11.0362C9.88125 10.9893 9.97904 10.9267 9.95948 10.7937Z",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24.7227 25.7721C24.5936 25.7799 24.5545 25.8933 24.5232 25.9794C24.3706 26.4097 23.8777 28.3343 23.8151 28.7529C23.7682 28.8976 23.8503 29.0541 23.999 29.101C24.0068 29.101 24.0107 29.105 24.0185 29.105C24.3276 29.1636 24.6405 29.1715 24.9535 29.1323C25.4111 29.101 25.6967 29.0619 25.8766 28.9798C26.0175 28.925 26.0918 28.7685 26.037 28.6238C26.0331 28.616 26.0331 28.6121 26.0292 28.6042C25.9119 28.2013 25.1686 26.3589 24.9535 25.952C24.9104 25.8699 24.8596 25.7643 24.7305 25.7721H24.7227Z",fill:t.color}),(0,e.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.8375 24.8802C25.7749 24.9975 25.8532 25.0875 25.9119 25.1579C26.1974 25.5178 27.5861 26.9339 27.9108 27.2038C28.0125 27.3173 28.1885 27.329 28.302 27.2273C28.3059 27.2234 28.3098 27.2195 28.3176 27.2156C28.5289 26.9848 28.701 26.7187 28.8262 26.4332C29.0413 26.0224 29.1508 25.7604 29.1743 25.5648C29.1939 25.4122 29.1391 25.2948 28.9318 25.2401C28.5289 25.1305 26.5651 24.8098 26.1074 24.7824C26.0175 24.7824 25.8962 24.7628 25.8375 24.8802Z",fill:t.color})))},z=window.wpApiSettings,J=z.likecoHost,Z=z.likerlandHost,X=function(t){var n=(0,u.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("content")})),r=(0,u.useDispatch)(k).setISCNLicense,a=(0,u.useSelect)((function(e){return e(k).getLicense()})),i=(0,g.count)(n,"words",{}),s=o((0,l.useState)(!1),2),c=s[0],C=s[1],E=o((0,l.useState)(!0),2),S=E[0],I=E[1],N=o((0,l.useState)(!0),2),w=N[0],b=N[1],_=o((0,l.useState)(!0),2),y=_[0],D=_[1],T=o((0,l.useState)(!0),2),x=T[0],A=T[1],B=o((0,l.useState)("#28646E"),2),P=B[0],O=B[1],R=(0,u.useSelect)((function(e){return e("core/edit-post").isPluginSidebarOpened()})),L=(0,u.useSelect)((function(e){return e("core/editor").isCurrentPostPublished()})),j=(0,u.useSelect)((function(e){return e("core/editor").getEditedPostAttribute("modified_gmt")}));function W(e){e.preventDefault(),C(!c)}return(0,l.useEffect)((function(){b(!!L&&!t.ISCNId)}),[L,t.ISCNId]),(0,l.useEffect)((function(){D(!!(L&&t.ISCNTimestamp&&Date.parse("".concat(j,"Z"))>t.ISCNTimestamp))}),[L,j,t.ISCNTimestamp]),(0,l.useEffect)((function(){return A(!!t.ISCNId)}),[t.ISCNId]),(0,l.useEffect)((function(){var e=t.ISCNVersion?"".concat(t.ISCNVersion," (").concat(new Date(t.ISCNTimestamp).toGMTString(),")"):"-";I(e)}),[t.ISCNVersion,t.ISCNTimestamp]),(0,l.useEffect)((function(){O(R?"white":"#28646E")}),[R,O]),(0,e.createElement)(d.PluginSidebar,{name:"likecoin-sidebar",title:(0,f.__)("LikeCoin Plugin","likecoin"),icon:(0,e.createElement)(G,{color:P})},(0,e.createElement)("div",{className:"divOuterHolder"},(0,e.createElement)("div",{className:"dePubMainSidebarDiv"},(0,e.createElement)("p",{className:"dePubStatusRed"},(0,f.__)("Decentralized Publishing","likecoin"))),(0,e.createElement)("div",{className:"likeCoinIconOuterDiv"},(0,e.createElement)(p,{color:"#9B9B9B"}))),!L&&(0,e.createElement)("div",{className:"divOuterHolder"},(0,e.createElement)("div",{className:"divInnerHolder"},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextBtn",onClick:function(e){e.preventDefault(),document.getElementsByClassName("editor-post-publish-button__button")[0].click()}},(0,f.__)("Publish your post first","likecoin")))),w&&(0,e.createElement)("div",{className:"divOuterHolder"},(0,e.createElement)("div",{className:"divInnerHolder"},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextBtn",onClick:t.handleRegisterISCN},(0,f.__)("Publish","likecoin")))),y&&(0,e.createElement)("div",{className:"divOuterHolder"},(0,e.createElement)("div",{className:"divInnerHolder"},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextBtn",onClick:t.handleRegisterISCN},(0,f.__)("Update","likecoin")))),x&&(0,e.createElement)("div",{className:"divOuterHolder"},(0,e.createElement)("div",{className:"divInnerHolder"},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextBtn",onClick:t.handleNFTAction},t.NFTClassId?(0,f.__)("View NFT","likecoin"):(0,f.__)("Mint NFT","likecoin")))),(0,e.createElement)("div",{className:"divOuterHolderMainSidebar"},(0,e.createElement)(h,{title:(0,f.__)("Publishing Status","likecoin"),status:""}),(0,e.createElement)(v,{isCurrentPostPublished:L,ISCNId:t.ISCNId}),(0,e.createElement)(h,{title:(0,f.__)("ISCN ID","likecoin"),status:t.ISCNId?t.ISCNId:"-",link:t.ISCNId?"https://app.".concat(J,"/view/").concat(encodeURIComponent(t.ISCNId)):""}),t.ISCNId&&(0,e.createElement)(h,{title:(0,f.__)("NFT","likecoin"),status:t.NFTClassId?t.NFTClassId:(0,f.__)("Mint Now","likecoin"),link:t.NFTClassId?"https://".concat(Z,"/nft/class/").concat(encodeURIComponent(t.NFTClassId)):""}),(0,e.createElement)(h,{title:(0,f.__)("Storage","likecoin"),status:t.arweaveId?t.arweaveId:"-",link:t.arweaveId?"https://arweave.net/".concat(t.arweaveId):""}),(0,e.createElement)(h,{title:(0,f.__)("Version","likecoin"),status:S})),(0,e.createElement)("div",{className:"divOuterHolderMainSidebar"},(0,e.createElement)(q,{defaultLicense:a,onSelect:function(e){r(e)},disabled:!(!L||w||y)})),(0,e.createElement)("div",{className:"divOuterHolderMainSidebar"},(0,e.createElement)("div",{className:"sidebarStatusTitleOuterDivPointer",onClick:W},(0,e.createElement)(m,{title:(0,f.__)("Metadata","likecoin")}),(0,e.createElement)("div",{className:"marginLeftAuto"},(0,e.createElement)(F,null))),c&&(0,e.createElement)("div",{className:"popUpWrapper"},(0,e.createElement)("div",{className:"popUpMainTitleDiv"},(0,e.createElement)(U,{title:(0,f.__)("Metadata","likecoin")}),(0,e.createElement)("div",{className:"popUpCrossIconWrapper"},(0,e.createElement)(M,{onClick:W}))),(0,e.createElement)("div",{className:"popUpMainContentWrapper"},(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(U,{title:(0,f.__)("Title","likecoin")}),(0,e.createElement)(H,{details:t.title})),(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(U,{title:(0,f.__)("Description","likecoin")}),(0,e.createElement)(H,{details:t.description})),(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(U,{title:(0,f.__)("Author","likecoin")}),(0,e.createElement)(H,{details:t.author})),(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(U,{title:(0,f.__)("Tag","likecoin")}),(0,e.createElement)("div",{className:"flexBoxRow"},t.tags&&t.tags.length>0&&t.tags.map((function(t){return(0,e.createElement)(V,{tag:t})})))),(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(U,{title:(0,f.__)("Url","likecoin")}),(0,e.createElement)(H,{details:t.url})),(0,e.createElement)("div",{className:"popUpMainContentRow"},(0,e.createElement)(m,{title:(0,f.__)("Word count","likecoin")}),(0,e.createElement)(H,{details:i}))))))},K=function(){return(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"components-panel__arrow",role:"img","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"}))},$=function(){return(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",class:"components-panel__arrow",role:"img","aria-hidden":"true",focusable:"false"},(0,e.createElement)("path",{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}))},Y=function(t){var n=o((0,l.useState)(!0),2),r=n[0],a=n[1];return(0,e.createElement)(d.PluginPostPublishPanel,null,(0,e.createElement)("div",{className:"divOuterHolderStatusInfoPanel"},(0,e.createElement)("div",{className:"flexBoxRow"},(0,e.createElement)("div",{className:"dePubDiv"},(0,e.createElement)("p",{className:"dePubStatusRed"},"Decentralized Publishing")),(0,e.createElement)("div",{className:"likeCoinIconOuterDiv"},(0,e.createElement)(p,{color:"#9B9B9B"})),(0,e.createElement)("div",{onClick:function(e){e.preventDefault(),a(!r)},className:"marginLeftAuto"},!r&&(0,e.createElement)($,null),r&&(0,e.createElement)(K,null))),r&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"flexBoxRow"},(0,e.createElement)("div",null,(0,e.createElement)("p",{className:"flexBoxRowNormalText"},(0,f.__)("Register your content to decetralized publishing","likecoin")))),(0,e.createElement)("div",{className:"registerISCNBtnOuterDiv"},(0,e.createElement)("button",{className:"blueBackgroundWhiteTextSmallBtn",onClick:t.handleRegisterISCN},(0,f.__)("Publish","likecoin")),(0,e.createElement)("button",{className:"whiteBackgroundBlueTextSmallBtn",onClick:function(e){e.preventDefault(),document.querySelector('[aria-label="Close panel"]').click()}},(0,f.__)("Details","likecoin"))))))},Q=window.wpApiSettings,ee=Q.siteurl,te=Q.likecoHost,ne=Q.likerlandHost,re="https://".concat(te),ae="https://app.".concat(te),ie="LikeCoin WordPress Plugin",oe=function(){var t=(0,u.useSelect)((function(e){return e(k).selectISCNInfo()})),n=t.DBLIKEPayAmount,r=t.DBMemo,i=t.DBArticleTitle,s=t.DBAuthorDescription,d=t.DBDescription,f=t.DBAuthor,p=t.DBArticleURL,m=t.DBArticleTags,h=t.DBISCNId,v=t.DBArweaveId,g=t.DBMattersIPFSHash,E=t.DBMattersPublishedArticleHash,S=t.DBISCNVersion,I=t.DBISCNTimestamp,N=t.DBMattersDraftId,w=t.DBMattersArticleId,b=t.DBMattersId,_=t.DBMattersArticleSlug,y=t.DBLicense,D=(0,u.useSelect)((function(e){return e(k).selectNFTInfo(h)})).DBNFTClassId,T=(0,u.useDispatch)(k),x=T.fetchISCNRegisterData,A=T.postArweaveInfoData,B=T.postISCNInfoData,P=o((0,l.useState)(i),2),O=P[0],R=P[1],L=o((0,l.useState)(s),2),j=L[0],F=L[1],M=o((0,l.useState)(d),2),U=M[0],H=M[1],V=o((0,l.useState)(f),2),W=V[0],q=V[1],G=o((0,l.useState)(p),2),z=G[0],J=G[1],Z=o((0,l.useState)(m),2),K=Z[0],$=Z[1],Q=o((0,l.useState)(h),2),te=Q[0],oe=Q[1],se=o((0,l.useState)(D),2),ce=se[0],le=se[1],ue=o((0,l.useState)(v),2),de=ue[0],fe=ue[1],pe=o((0,l.useState)(g),2),me=pe[0],he=pe[1],ve=o((0,l.useState)(E),2),Ce=ve[0],ge=ve[1],Ee=o((0,l.useState)(S),2),Se=Ee[0],Ie=Ee[1],Ne=o((0,l.useState)(I),2),we=Ne[0],be=Ne[1],_e=o((0,l.useState)(N),2),ye=_e[0],De=_e[1],Te=o((0,l.useState)(w),2),ke=Te[0],xe=Te[1],Ae=o((0,l.useState)(b),2),Be=Ae[0],Pe=Ae[1],Oe=o((0,l.useState)(_),2),Re=Oe[0],Le=Oe[1],je=o((0,l.useState)([]),2),Fe=je[0],Me=je[1],Ue=o((0,l.useState)(!1),2),He=Ue[0],Ve=Ue[1],We=o((0,l.useState)(!1),2),qe=We[0],Ge=We[1],ze=o((0,l.useState)(null),2),Je=ze[0],Ze=ze[1],Xe=(0,l.useCallback)((function(e){var t=e.ipfsHash,n=e.arweaveId;fe(n),A({ipfsHash:t,arweaveId:n})}),[A]),Ke=(0,l.useCallback)((function(e){var t=e.tx_hash,n=e.iscnId,r=e.iscnVersion,a=e.timestamp;B({iscnHash:t,iscnId:n,iscnVersion:r,timestamp:a,license:y})}),[y,B]),$e=(0,l.useCallback)(a(c().mark((function e(){var t,n,r,a,i,o,s,l,u,d;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Je.postMessage(JSON.stringify({action:"INIT_WIDGET"}),re),e.next=3,x();case 3:t=e.sent,n=t.data,r=n.files,a=n.title,i=n.tags,o=n.url,s=n.author,l=n.authorDescription,u=n.description,R(a),$(i),J(o),q(s),F(l),H(u),d=JSON.stringify({action:"SUBMIT_ISCN_DATA",data:{metadata:{fingerprints:Fe,name:a,tags:i,url:o,author:s,authorDescription:l,description:u,type:"article",license:y,recordNotes:ie,memo:ie},files:r}}),Je.postMessage(d,re);case 13:case"end":return e.stop()}}),e)}))),[y,x,Fe,Je]),Ye=(0,l.useCallback)(function(){var e=a(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.data&&t.origin===re&&"string"==typeof t.data)try{n=JSON.parse(t.data),r=n.action,a=n.data,"ISCN_WIDGET_READY"===r?Ge(!0):"ARWEAVE_SUBMITTED"===r?Xe(a):"ISCN_SUBMITTED"===r?Ke(a):console.warn("Unknown event: ".concat(r))}catch(e){console.error(e)}case 1:case"end":return e.stop()}}),e)})));return function(_x){return e.apply(this,arguments)}}(),[Xe,Ke]),Qe=(0,l.useCallback)((function(){var e=encodeURIComponent(te||""),t=encodeURIComponent(ee),n="".concat(re,"/in/widget/iscn-ar?opener=1&mint=1&redirect_uri=").concat(t,"&iscn_id=").concat(e);try{var r=window.open(n,"likePayWindow","menubar=no,location=no,width=576,height=768");if(!r||r.closed||void 0===r.closed)return void console.error("POPUP_BLOCKED");Ze(r),window.addEventListener("message",Ye,!1)}catch(e){console.error(e)}}),[te,Ye]);function et(e){return tt.apply(this,arguments)}function tt(){return(tt=a(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Ve(!0);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,l.useEffect)((function(){if(R(i),s){var e=s.split(" ").length;if(e>200){var t=s.split(" ").slice(0,197).join(" ").concat("...").concat(s.split(" ")[e-1]);F(t)}else F(s)}d&&H(d),q(f),J(p),$(m),oe(h),le(D),Ie(S),be(I),De(N),xe(w),Pe(b),Le(_),ge(E),fe(v)}),[n,r,i,s,d,f,p,m,h,S,I,D,N,w,b,_,E,v]),(0,l.useEffect)((function(){he(g);var e=[];if(g&&"-"!==g){var t="ipfs://".concat(g);e.push(t)}e.length>1&&Me(e)}),[g]),(0,l.useEffect)((function(){He&&(Qe(),Ve(!1)),qe&&($e(),Ge(!1))}),[He,qe,Qe,$e]);var nt=function(){var e=a(c().mark((function e(t){var n,r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.data&&t.origin===ae&&"string"==typeof t.data)try{n=JSON.parse(t.data),r=n.action,a=n.data,"NFT_MINT_DATA"===r?a.classId&&le(a.classId):console.warn("Unknown event: ".concat(r))}catch(e){console.error(e)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=(0,l.useCallback)((function(e){if(e.preventDefault(),te){var t=encodeURIComponent(ee),n=ce?"https://".concat(ne,"/nft/class/").concat(encodeURIComponent(ce)):"".concat(ae,"/nft/iscn/").concat(encodeURIComponent(te),"?opener=1&redirect_uri=").concat(t);window.open(n,"_blank")&&!ce&&window.addEventListener("message",nt,!1)}}),[te,ce]);return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(X,{handleRegisterISCN:et,handleNFTAction:rt,ISCNId:te,arweaveId:de,ISCNVersion:Se,ISCNTimestamp:we,NFTClassId:ce,mattersDraftId:ye,mattersArticleId:ke,mattersId:Be,mattersArticleSlug:Re,mattersIPFSHash:me,mattersPublishedArticleHash:Ce,title:O,authorDescription:j,description:U,author:W,tags:K,url:z}),(0,e.createElement)(C,{handleRegisterISCN:et,handleNFTAction:rt,ISCNId:te,arweaveId:de,ISCNVersion:Se,ISCNTimestamp:we,NFTClassId:ce,mattersDraftId:ye,mattersArticleId:ke,mattersId:Be,mattersArticleSlug:Re,mattersIPFSHash:me,mattersPublishedArticleHash:Ce}),(0,e.createElement)(Y,{handleRegisterISCN:et}))};(0,t.registerPlugin)("likecoin-sidebar",{render:function(){return(0,e.createElement)(oe,null)}})}()}();